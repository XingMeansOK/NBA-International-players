<!doctype html>
<head>
    <title>dev example</title>
    <script src="./dev_index.js" type="text/javascript"></script>
    <script src='https://api.mapbox.com/mapbox-gl-js/v0.34.0/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v0.34.0/mapbox-gl.css' rel='stylesheet' />
    <style>
        body, html {
            width: 100%;
            height: 100%;
            margin: 0;
        }
        #map {
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>
    <div id='map' class='map'></div>

    <script>

      mapboxgl.accessToken = 'pk.eyJ1IjoieGluZ21lYW5zb2siLCJhIjoiY2o0bnQ4dmxvMWhhNjMzcGx5NGM0cncyZiJ9.5cy4rg9_GhW7UbCzXZWcLA';
      var map = new mapboxgl.Map({
        container: 'map', // 元素的id
        style: 'mapbox://styles/mapbox/dark-v9',
        pitch: 45, // 倾斜角
        renderWorldCopies: false, // 不重复渲染（默认true，地图缩小就会看到一排世界地图连在一起）
        hash: true // 地图的zoom、中心位置等都会写入到url中
      });

      map.on( 'load', function() {
        var wrapper = new MapboxWrapper( map );
        var geometry = new THREE.BoxGeometry( 100, 100, 100 );
        var material = new THREE.MeshBasicMaterial( {color: 0x00ff00} );
        var cube = new THREE.Mesh( geometry, material );
        var planePosition = [ -122.41356, 37.77577 ]; // 可以有第三个元素，表示离地面的高度

        // Add the model to the threebox scenegraph at a specific geographic coordinate
        wrapper.addAtCoordinate(cube, planePosition, {scaleToLatitude: true, preScale: 20000});
      } )



    </script>
</body>
